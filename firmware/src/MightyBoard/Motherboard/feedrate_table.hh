/*
 * Copyright 2012 by Alison Leonard alison@makerbot.com
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>
 */

#ifndef FEEDRATE_TABLE_HH_
#define FEEDRATE_TABLE_HH_

#if F_CPU == 16000000L && STEPPER_CLOCK_PRESCALER == 8
const uint16_t speed_lookuptable_fast[256][2] PROGMEM = {
   {62500, 55556}, {6944, 3268}, {3676, 1176}, {2500, 607}, {1893, 369}, {1524, 249}, {1275, 179}, {1096, 135},
   {961, 105}, {856, 85}, {771, 69}, {702, 58}, {644, 49}, {595, 42}, {553, 37}, {516, 32},
   {484, 28}, {456, 25}, {431, 23}, {408, 20}, {388, 19}, {369, 16}, {353, 16}, {337, 14},
   {323, 13}, {310, 11}, {299, 11}, {288, 11}, {277, 9}, {268, 9}, {259, 8}, {251, 8},
   {243, 8}, {235, 7}, {228, 6}, {222, 6}, {216, 6}, {210, 6}, {204, 5}, {199, 5},
   {194, 5}, {189, 4}, {185, 4}, {181, 4}, {177, 4}, {173, 4}, {169, 4}, {165, 3},
   {162, 3}, {159, 4}, {155, 3}, {152, 3}, {149, 2}, {147, 3}, {144, 3}, {141, 2},
   {139, 3}, {136, 2}, {134, 2}, {132, 3}, {129, 2}, {127, 2}, {125, 2}, {123, 2},
   {121, 2}, {119, 1}, {118, 2}, {116, 2}, {114, 1}, {113, 2}, {111, 2}, {109, 1},
   {108, 2}, {106, 1}, {105, 2}, {103, 1}, {102, 1}, {101, 1}, {100, 2}, {98, 1},
   {97, 1}, {96, 1}, {95, 2}, {93, 1}, {92, 1}, {91, 1}, {90, 1}, {89, 1},
   {88, 1}, {87, 1}, {86, 1}, {85, 1}, {84, 1}, {83, 0}, {83, 1}, {82, 1},
   {81, 1}, {80, 1}, {79, 1}, {78, 0}, {78, 1}, {77, 1}, {76, 1}, {75, 0},
   {75, 1}, {74, 1}, {73, 1}, {72, 0}, {72, 1}, {71, 1}, {70, 0}, {70, 1},
   {69, 0}, {69, 1}, {68, 1}, {67, 0}, {67, 1}, {66, 0}, {66, 1}, {65, 0},
   {65, 1}, {64, 1}, {63, 0}, {63, 1}, {62, 0}, {62, 1}, {61, 0}, {61, 1},
   {60, 0}, {60, 0}, {60, 1}, {59, 0}, {59, 1}, {58, 0}, {58, 1}, {57, 0},
   {57, 1}, {56, 0}, {56, 0}, {56, 1}, {55, 0}, {55, 1}, {54, 0}, {54, 0},
   {54, 1}, {53, 0}, {53, 0}, {53, 1}, {52, 0}, {52, 0}, {52, 1}, {51, 0},
   {51, 0}, {51, 1}, {50, 0}, {50, 0}, {50, 1}, {49, 0}, {49, 0}, {49, 1},
   {48, 0}, {48, 0}, {48, 1}, {47, 0}, {47, 0}, {47, 0}, {47, 1}, {46, 0},
   {46, 0}, {46, 1}, {45, 0}, {45, 0}, {45, 0}, {45, 1}, {44, 0}, {44, 0},
   {44, 0}, {44, 1}, {43, 0}, {43, 0}, {43, 0}, {43, 1}, {42, 0}, {42, 0},
   {42, 0}, {42, 1}, {41, 0}, {41, 0}, {41, 0}, {41, 0}, {41, 1}, {40, 0},
   {40, 0}, {40, 0}, {40, 0}, {40, 1}, {39, 0}, {39, 0}, {39, 0}, {39, 0},
   {39, 1}, {38, 0}, {38, 0}, {38, 0}, {38, 0}, {38, 1}, {37, 0}, {37, 0},
   {37, 0}, {37, 0}, {37, 0}, {37, 1}, {36, 0}, {36, 0}, {36, 0}, {36, 0},
   {36, 1}, {35, 0}, {35, 0}, {35, 0}, {35, 0}, {35, 0}, {35, 0}, {35, 1},
   {34, 0}, {34, 0}, {34, 0}, {34, 0}, {34, 0}, {34, 1}, {33, 0}, {33, 0},
   {33, 0}, {33, 0}, {33, 0}, {33, 0}, {33, 1}, {32, 0}, {32, 0}, {32, 0},
   {32, 0}, {32, 0}, {32, 0}, {32, 0}, {32, 1}, {31, 0}, {31, 0}, {31, 0},
   {31, 0}, {31, 0}, {31, 0}, {31, 1}, {30, 0}, {30, 0}, {30, 0}, {30, 0},
};

const uint16_t speed_lookuptable_slow[256][2] PROGMEM = {
   {62500, 12500}, {50000, 8334}, {41666, 5952}, {35714, 4464}, {31250, 3473}, {27777, 2777}, {25000, 2273}, {22727, 1894},
   {20833, 1603}, {19230, 1373}, {17857, 1191}, {16666, 1041}, {15625, 920}, {14705, 817}, {13888, 731}, {13157, 657},
   {12500, 596}, {11904, 541}, {11363, 494}, {10869, 453}, {10416, 416}, {10000, 385}, {9615, 356}, {9259, 331},
   {8928, 308}, {8620, 287}, {8333, 269}, {8064, 252}, {7812, 237}, {7575, 223}, {7352, 210}, {7142, 198},
   {6944, 188}, {6756, 178}, {6578, 168}, {6410, 160}, {6250, 153}, {6097, 145}, {5952, 139}, {5813, 132},
   {5681, 126}, {5555, 121}, {5434, 115}, {5319, 111}, {5208, 106}, {5102, 102}, {5000, 99}, {4901, 94},
   {4807, 91}, {4716, 87}, {4629, 84}, {4545, 81}, {4464, 79}, {4385, 75}, {4310, 73}, {4237, 71},
   {4166, 68}, {4098, 66}, {4032, 64}, {3968, 62}, {3906, 60}, {3846, 59}, {3787, 56}, {3731, 55},
   {3676, 53}, {3623, 52}, {3571, 50}, {3521, 49}, {3472, 48}, {3424, 46}, {3378, 45}, {3333, 44},
   {3289, 43}, {3246, 41}, {3205, 41}, {3164, 39}, {3125, 39}, {3086, 38}, {3048, 36}, {3012, 36},
   {2976, 35}, {2941, 35}, {2906, 33}, {2873, 33}, {2840, 32}, {2808, 31}, {2777, 30}, {2747, 30},
   {2717, 29}, {2688, 29}, {2659, 28}, {2631, 27}, {2604, 27}, {2577, 26}, {2551, 26}, {2525, 25},
   {2500, 25}, {2475, 25}, {2450, 23}, {2427, 24}, {2403, 23}, {2380, 22}, {2358, 22}, {2336, 22},
   {2314, 21}, {2293, 21}, {2272, 20}, {2252, 20}, {2232, 20}, {2212, 20}, {2192, 19}, {2173, 18},
   {2155, 19}, {2136, 18}, {2118, 18}, {2100, 17}, {2083, 17}, {2066, 17}, {2049, 17}, {2032, 16},
   {2016, 16}, {2000, 16}, {1984, 16}, {1968, 15}, {1953, 16}, {1937, 14}, {1923, 15}, {1908, 15},
   {1893, 14}, {1879, 14}, {1865, 14}, {1851, 13}, {1838, 14}, {1824, 13}, {1811, 13}, {1798, 13},
   {1785, 12}, {1773, 13}, {1760, 12}, {1748, 12}, {1736, 12}, {1724, 12}, {1712, 12}, {1700, 11},
   {1689, 12}, {1677, 11}, {1666, 11}, {1655, 11}, {1644, 11}, {1633, 10}, {1623, 11}, {1612, 10},
   {1602, 10}, {1592, 10}, {1582, 10}, {1572, 10}, {1562, 10}, {1552, 9}, {1543, 10}, {1533, 9},
   {1524, 9}, {1515, 9}, {1506, 9}, {1497, 9}, {1488, 9}, {1479, 9}, {1470, 9}, {1461, 8},
   {1453, 8}, {1445, 9}, {1436, 8}, {1428, 8}, {1420, 8}, {1412, 8}, {1404, 8}, {1396, 8},
   {1388, 7}, {1381, 8}, {1373, 7}, {1366, 8}, {1358, 7}, {1351, 7}, {1344, 8}, {1336, 7},
   {1329, 7}, {1322, 7}, {1315, 7}, {1308, 6}, {1302, 7}, {1295, 7}, {1288, 6}, {1282, 7},
   {1275, 6}, {1269, 7}, {1262, 6}, {1256, 6}, {1250, 7}, {1243, 6}, {1237, 6}, {1231, 6},
   {1225, 6}, {1219, 6}, {1213, 6}, {1207, 6}, {1201, 5}, {1196, 6}, {1190, 6}, {1184, 5},
   {1179, 6}, {1173, 5}, {1168, 6}, {1162, 5}, {1157, 5}, {1152, 6}, {1146, 5}, {1141, 5},
   {1136, 5}, {1131, 5}, {1126, 5}, {1121, 5}, {1116, 5}, {1111, 5}, {1106, 5}, {1101, 5},
   {1096, 5}, {1091, 5}, {1086, 4}, {1082, 5}, {1077, 5}, {1072, 4}, {1068, 5}, {1063, 4},
   {1059, 5}, {1054, 4}, {1050, 4}, {1046, 5}, {1041, 4}, {1037, 4}, {1033, 5}, {1028, 4},
   {1024, 4}, {1020, 4}, {1016, 4}, {1012, 4}, {1008, 4}, {1004, 4}, {1000, 4}, {996, 4},
   {992, 4}, {988, 4}, {984, 4}, {980, 4}, {976, 4}, {972, 4}, {968, 3}, {965, 3},
};

#elif F_CPU == 16000000L && STEPPER_CLOCK_PRESCALER == 1

const uint16_t speed_lookuptable_fast[256][2] PROGMEM = {
   {500000, 444445}, {55555, 26144}, {29411, 9411}, {20000, 4849}, {15151, 2956}, {12195, 1991}, {10204, 1433}, {8771, 1079},
   {7692, 843}, {6849, 677}, {6172, 555}, {5617, 463}, {5154, 393}, {4761, 337}, {4424, 292}, {4132, 257},
   {3875, 226}, {3649, 201}, {3448, 181}, {3267, 162}, {3105, 147}, {2958, 134}, {2824, 122}, {2702, 112},
   {2590, 103}, {2487, 95}, {2392, 88}, {2304, 82}, {2222, 77}, {2145, 71}, {2074, 66}, {2008, 63},
   {1945, 59}, {1886, 55}, {1831, 52}, {1779, 49}, {1730, 47}, {1683, 44}, {1639, 42}, {1597, 40},
   {1557, 38}, {1519, 36}, {1483, 34}, {1449, 33}, {1416, 31}, {1385, 30}, {1355, 29}, {1326, 28},
   {1298, 26}, {1272, 26}, {1246, 24}, {1222, 23}, {1199, 23}, {1176, 22}, {1154, 21}, {1133, 20},
   {1113, 19}, {1094, 19}, {1075, 18}, {1057, 18}, {1039, 17}, {1022, 16}, {1006, 16}, {990, 16},
   {974, 15}, {959, 14}, {945, 14}, {931, 14}, {917, 13}, {904, 13}, {891, 13}, {878, 12},
   {866, 12}, {854, 11}, {843, 12}, {831, 10}, {821, 11}, {810, 10}, {800, 11}, {789, 9},
   {780, 10}, {770, 9}, {761, 10}, {751, 9}, {742, 8}, {734, 9}, {725, 8}, {717, 8},
   {709, 8}, {701, 8}, {693, 8}, {685, 7}, {678, 7}, {671, 7}, {664, 7}, {657, 7},
   {650, 7}, {643, 7}, {636, 6}, {630, 6}, {624, 6}, {618, 7}, {611, 5}, {606, 6},
   {600, 6}, {594, 6}, {588, 5}, {583, 5}, {578, 6}, {572, 5}, {567, 5}, {562, 5},
   {557, 5}, {552, 5}, {547, 5}, {542, 4}, {538, 5}, {533, 4}, {529, 5}, {524, 4},
   {520, 5}, {515, 4}, {511, 4}, {507, 4}, {503, 4}, {499, 4}, {495, 4}, {491, 4},
   {487, 3}, {484, 4}, {480, 4}, {476, 3}, {473, 4}, {469, 4}, {465, 3}, {462, 3},
   {459, 4}, {455, 3}, {452, 3}, {449, 3}, {446, 4}, {442, 3}, {439, 3}, {436, 3},
   {433, 3}, {430, 3}, {427, 3}, {424, 3}, {421, 2}, {419, 3}, {416, 3}, {413, 3},
   {410, 2}, {408, 3}, {405, 3}, {402, 2}, {400, 3}, {397, 2}, {395, 3}, {392, 2},
   {390, 3}, {387, 2}, {385, 2}, {383, 3}, {380, 2}, {378, 2}, {376, 3}, {373, 2},
   {371, 2}, {369, 2}, {367, 2}, {365, 2}, {363, 2}, {361, 3}, {358, 2}, {356, 2},
   {354, 2}, {352, 2}, {350, 2}, {348, 2}, {346, 1}, {345, 2}, {343, 2}, {341, 2},
   {339, 2}, {337, 2}, {335, 1}, {334, 2}, {332, 2}, {330, 2}, {328, 1}, {327, 2},
   {325, 2}, {323, 2}, {321, 1}, {320, 2}, {318, 1}, {317, 2}, {315, 2}, {313, 1},
   {312, 2}, {310, 1}, {309, 2}, {307, 1}, {306, 2}, {304, 1}, {303, 2}, {301, 1},
   {300, 2}, {298, 1}, {297, 1}, {296, 2}, {294, 1}, {293, 2}, {291, 1}, {290, 1},
   {289, 2}, {287, 1}, {286, 1}, {285, 2}, {283, 1}, {282, 1}, {281, 1}, {280, 2},
   {278, 1}, {277, 1}, {276, 1}, {275, 2}, {273, 1}, {272, 1}, {271, 1}, {270, 1},
   {269, 1}, {268, 2}, {266, 1}, {265, 1}, {264, 1}, {263, 1}, {262, 1}, {261, 1},
   {260, 1}, {259, 1}, {258, 1}, {257, 1}, {256, 2}, {254, 1}, {253, 1}, {252, 1},
   {251, 1}, {250, 1}, {249, 1}, {248, 1}, {247, 1}, {246, 1}, {245, 1}, {244, 1},
};

const uint16_t speed_lookuptable_slow[256][2] PROGMEM = {
   {500000, 100000}, {400000, 66667}, {333333, 47619}, {285714, 35714}, {250000, 27778}, {222222, 22222}, {200000, 18182}, {181818, 15152},
   {166666, 12820}, {153846, 10989}, {142857, 9524}, {133333, 8333}, {125000, 7353}, {117647, 6536}, {111111, 5848}, {105263, 5263},
   {100000, 4762}, {95238, 4329}, {90909, 3953}, {86956, 3623}, {83333, 3333}, {80000, 3077}, {76923, 2849}, {74074, 2646},
   {71428, 2463}, {68965, 2299}, {66666, 2150}, {64516, 2016}, {62500, 1894}, {60606, 1783}, {58823, 1681}, {57142, 1587},
   {55555, 1501}, {54054, 1423}, {52631, 1349}, {51282, 1282}, {50000, 1220}, {48780, 1161}, {47619, 1108}, {46511, 1057},
   {45454, 1010}, {44444, 966}, {43478, 925}, {42553, 887}, {41666, 850}, {40816, 816}, {40000, 785}, {39215, 754},
   {38461, 726}, {37735, 698}, {37037, 674}, {36363, 649}, {35714, 627}, {35087, 605}, {34482, 584}, {33898, 565},
   {33333, 547}, {32786, 528}, {32258, 512}, {31746, 496}, {31250, 481}, {30769, 466}, {30303, 453}, {29850, 439},
   {29411, 426}, {28985, 414}, {28571, 402}, {28169, 392}, {27777, 380}, {27397, 370}, {27027, 361}, {26666, 351},
   {26315, 341}, {25974, 333}, {25641, 325}, {25316, 316}, {25000, 309}, {24691, 301}, {24390, 294}, {24096, 287},
   {23809, 280}, {23529, 274}, {23255, 267}, {22988, 261}, {22727, 256}, {22471, 249}, {22222, 244}, {21978, 239},
   {21739, 234}, {21505, 229}, {21276, 224}, {21052, 219}, {20833, 215}, {20618, 210}, {20408, 206}, {20202, 202},
   {20000, 199}, {19801, 194}, {19607, 190}, {19417, 187}, {19230, 183}, {19047, 180}, {18867, 176}, {18691, 173},
   {18518, 170}, {18348, 167}, {18181, 163}, {18018, 161}, {17857, 158}, {17699, 156}, {17543, 152}, {17391, 150},
   {17241, 147}, {17094, 145}, {16949, 143}, {16806, 140}, {16666, 138}, {16528, 135}, {16393, 133}, {16260, 131},
   {16129, 129}, {16000, 127}, {15873, 125}, {15748, 123}, {15625, 122}, {15503, 119}, {15384, 117}, {15267, 116},
   {15151, 114}, {15037, 112}, {14925, 111}, {14814, 109}, {14705, 107}, {14598, 106}, {14492, 104}, {14388, 103},
   {14285, 101}, {14184, 100}, {14084, 98}, {13986, 98}, {13888, 95}, {13793, 95}, {13698, 93}, {13605, 92},
   {13513, 91}, {13422, 89}, {13333, 88}, {13245, 88}, {13157, 86}, {13071, 84}, {12987, 84}, {12903, 83},
   {12820, 82}, {12738, 80}, {12658, 80}, {12578, 78}, {12500, 78}, {12422, 77}, {12345, 76}, {12269, 74},
   {12195, 74}, {12121, 73}, {12048, 72}, {11976, 72}, {11904, 70}, {11834, 70}, {11764, 69}, {11695, 68},
   {11627, 67}, {11560, 66}, {11494, 66}, {11428, 65}, {11363, 64}, {11299, 64}, {11235, 62}, {11173, 62},
   {11111, 62}, {11049, 60}, {10989, 61}, {10928, 59}, {10869, 59}, {10810, 58}, {10752, 57}, {10695, 57},
   {10638, 56}, {10582, 56}, {10526, 55}, {10471, 55}, {10416, 54}, {10362, 53}, {10309, 53}, {10256, 52},
   {10204, 52}, {10152, 51}, {10101, 51}, {10050, 50}, {10000, 50}, {9950, 50}, {9900, 48}, {9852, 49},
   {9803, 47}, {9756, 48}, {9708, 47}, {9661, 46}, {9615, 46}, {9569, 46}, {9523, 45}, {9478, 45},
   {9433, 44}, {9389, 44}, {9345, 43}, {9302, 43}, {9259, 43}, {9216, 42}, {9174, 42}, {9132, 42},
   {9090, 41}, {9049, 40}, {9009, 41}, {8968, 40}, {8928, 40}, {8888, 39}, {8849, 39}, {8810, 39},
   {8771, 38}, {8733, 38}, {8695, 37}, {8658, 38}, {8620, 37}, {8583, 36}, {8547, 37}, {8510, 36},
   {8474, 36}, {8438, 35}, {8403, 35}, {8368, 35}, {8333, 35}, {8298, 34}, {8264, 34}, {8230, 34},
   {8196, 33}, {8163, 33}, {8130, 33}, {8097, 33}, {8064, 32}, {8032, 32}, {8000, 32}, {7968, 32},
   {7936, 31}, {7905, 31}, {7874, 31}, {7843, 31}, {7812, 30}, {7782, 31}, {7751, 29}, {7722, 29},
};

#else
#error feedrate_table.h needs regenerated
#error python src/create_speed_lookuptable.py -f #F_CPU/1000000 -d #STEPPER_CLOCK_PRESCALER
#endif


   #endif
